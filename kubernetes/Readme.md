Команды

  Развертка pod/replicaset/deployment:

    kubectl apply -f [POD/REPLICASET/DEPLOYMENT]

  Проверка запущенных pod/replicaset/deployment:

    kubectl get [POD/REPLICASET/DEPLOYMENT]

  Отключение запущенных pod/replicaset/deployment:

    kubectl delete [POD/REPLICASET/DEPLOYMENT]/[NAME]

  Проброс портов:

    kubectl port-forward pod/[NAME] 8000:8000


## 1. Разверните kubernetes  
Развернул в облаке (https://cloud.google.com/kubernetes-engine)

## 2. Напишите простой pod manifests для вашего приложения, назовите его online-inference-pod.yaml
Задеплоил, скриншот приложил

Добавление requests/limits:
позволяет k8s наиболее эффективно подбирать машину; если на машине CPU/RAM меньше, 
чем прописано в requests, то pod не будет помещаться на эту машину; если pod потребляет CPU больше, чем прописано в limits, то k8s начнет лимитировать такты CPU, если pod потребляет RAM больше, чем прописано в limits, то он будет перезапущен. В случае нештатной ситуации, первыми поднимаются pod с прописанными requests/limits.


## 3. Модифицируйте свое приложение так, чтобы оно стартовало не сразу(с задержкой секунд 20-30) и падало спустя минуты работы. 
Добавление readiness, позволяет определить, когда контейнер действительно готов к работе (т.е. после прохождения health-check). Без данной пробы контейнер получает статус Ready сразу после того, как pod получает статус Running. 

Добавление liveness позволяет определить возникновение проблем в контейнере. Если данная проба провалена, то контейнер лишается статуса Ready и pod перезапускается

## 4. Создайте replicaset, сделайте 3 реплики вашего приложения.
а) Если сменить докер образа в манифесте и уменьшить число реплик, то все версии образа в кластере будут старыми

б) Если сменить докер образа в манифесте и увеличить число реплик, то новые поднятые поды будут содержать в себе новые версии образа, а старые - старые образы. Таким образом, в кластере будут присутствовать как новые, так и старые версии образов. 

## 5. Опишите деплоймент для вашего приложения. 
а) Что бы добиться ситуации, когда на кластере есть как все новые поды, так и все старые необходимо установить параметры maxUnavailable=0, maxSurge=[количеству реплик], тогда сначала происходит запуск подов с новой версией образов, а потом гасятся все поды со старой версией образов

б) Что бы одновременно с поднятием новых версий, гасились старые, необходимо установить 
maxUnavailable=1, maxSurge=0. При данной настройке сначалоа гасится старый под и сразу же запускается новый.
